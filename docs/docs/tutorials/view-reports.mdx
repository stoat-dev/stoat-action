---
sidebar_position: 105
title: View Build Reports
---

# View reports in pull requests

Stoat can help you view HTML build reports generated as part of your build in a comment on your pull request.

Here's an example of a Stoat comment that links to various Java build reports generated by the latest build:
<img src="https://stoat-dev--static.stoat.page/screenshot-java.png" alt="java comment screenshot" width={400} />

## Supported Reports
* Test results ([JUnit](https://junit.org/junit5/), [Jest](https://jestjs.io/), [Mocha](https://mochajs.org/), [pytest-html](https://pypi.org/project/pytest-html/), etc.)
* Test coverage ([JaCoCo](https://www.jacoco.org/jacoco/), [coverage.py](https://coverage.readthedocs.io/en/latest/), etc.)
* Static analysis ([Checkstyle](https://checkstyle.sourceforge.io/), [PMD violations](https://pmd.github.io/), etc.)
* API Docs ([Swagger](https://swagger.io/), [ReDoc](https://redocly.com/), etc.)
* Code Docs ([Javadoc](https://en.wikipedia.org/wiki/Javadoc), [pydoc](https://docs.python.org/3/library/pydoc.html), [pdoc](https://pdoc.dev/), etc.)
* ...and any other static HTML reports!

## Example Repo

See a real build that generates various Java reports links them in a Stoat comment in [this pull request](https://github.com/stoat-dev/example-java/pull/1).

# Adding static reports to the Stoat comment

In this tutorial we will show how to add a [Jest](https://jestjs.io/) test coverage report to the Stoat comment, but the same approach applies for any static HTML report produced by your build.

1. Set up Stoat with our [getting started guide](../installation).

2. Make sure the [Stoat Action](https://github.com/stoat-dev/stoat-action) appears after the GitHub workflow step that generates your Jest HTML test coverage report.

    ```yaml title=".github/workflows/docs.yaml"
    # existing step in your repo that runs Jest
    - name: Run Tests
      run: |
        npm install
        npm run jest --coverage

    - name: Run Stoat Action
      uses: stoat-dev/stoat-action@v0
      if: always()
    ```

3. Point Stoat at the generated Jest HTML test coverage report by adding a new task that uses the `static_hosting` plugin:

    ```yaml title=".stoat/config.yaml"
    ---
    version: 1
    enabled: true
    tasks:
      jest:
        metadata:
          # a name for the Jest task
          name: "Jest Coverage"
        static_hosting:
          # path to the Jest coverage report
          path: coverage/lcov-report
    ```

   By default, `npm run jest --coverage` will generate a HTML report in the `coverage/lcov-report` directory (documentation [here](https://jestjs.io/docs/configuration#coveragereporters-arraystring--string-options)).
   This is the directory to set for the `path` field in the Stoat config file.
   If Jest is built in a subdirectory of the Git repository or if you're using a different tool to generate an HTML report, the path will be different.

4. That's it! Now, every time you open a pull request, Stoat will host the Jest report and post a comment with a link to view it. See an example in [this pull request](https://github.com/stoat-dev/examples/pull/1).
   <img src="https://stoat-dev--static.stoat.page/screenshot-jest.png" alt="jest comment screenshot" width={600} />
